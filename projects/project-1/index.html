<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Project 1 | Privacy & Device Info</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header class="top">
    <a class="back" href="../../dashboard.html">← Back</a>

    <div class="brand">
      <div class="logo">SC</div>
      <div>
        <h1>Privacy & Device Info</h1>
        <p class="sub">IP, device info & permissions awareness (premium UI).</p>
      </div>
    </div>

    <div class="actions">
      <button id="refreshBtn" class="btn ghost" type="button">Refresh</button>
      <button id="copyAllBtn" class="btn" type="button">Copy Report</button>
    </div>
  </header>

  <main class="wrap">
    <section class="grid">
      <div class="card">
        <div class="cardHead">
          <h2>Basic</h2>
          <span class="pill">No permission</span>
        </div>
        <div class="kv" id="basicBox"></div>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2>Device & Screen</h2>
          <span class="pill">No permission</span>
        </div>
        <div class="kv" id="deviceBox"></div>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2>Network</h2>
          <span class="pill">Public IP</span>
        </div>

        <div class="kv" id="netBox"></div>

        <div class="rowBtns">
          <button id="ipBtn" class="btn" type="button">Get Public IP</button>
          <button id="ipGeoBtn" class="btn ghost" type="button">IP Approx Location</button>
        </div>

        <p class="note">
          Public IP is fetched from a public service. Approx location is rough (may be wrong).
        </p>
      </div>

      <div class="card">
        <div class="cardHead">
          <h2>Permissions</h2>
          <span class="pill warn">Needs consent</span>
        </div>

        <div class="kv" id="permBox"></div>

        <div class="rowBtns">
          <button id="gpsBtn" class="btn" type="button">Allow GPS Location</button>
          <button id="camBtn" class="btn ghost" type="button">Camera Permission State</button>
        </div>

        <div class="mini" id="gpsBox">GPS not requested.</div>

        <p class="note">
          If GPS button seems not working: ensure site is on HTTPS (Vercel is OK) and allow permission popup.
        </p>
      </div>

      <!-- ✅ MAP VIEW -->
      <div class="card wide">
        <div class="cardHead">
          <h2>Map View</h2>
          <span class="pill ok">Live</span>
        </div>

        <div class="mapWrap">
          <iframe
            id="mapFrame"
            title="Map"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            src="about:blank">
          </iframe>

          <div id="mapHint" class="mapHint">
            Map will appear when you fetch IP Approx Location or allow GPS.
          </div>
        </div>

        <p class="note">
          GPS = exact marker. IP geo = approximate marker. (For awareness/college project)
        </p>
      </div>
    </section>

    <div id="toast" class="toast"></div>
  </main>

  <script src="./app.js"></script>
</body>
</html>

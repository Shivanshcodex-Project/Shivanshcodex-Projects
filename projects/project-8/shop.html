<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shop</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="offerBar">
  Get Extra 6% Off on Prepaid <span class="pill">Shop Now</span>
</div>

<header class="header">
  <div class="headerRow container">
    <button class="iconBtn" onclick="openDrawer()">â˜°</button>

    <div class="brand">
      <div class="logoDot"></div>
      <div>
        <div style="font-weight:1100">SHOP</div>
        <div style="font-size:12px;color:#777;font-weight:900;margin-top:-2px">All Products</div>
      </div>
    </div>

    <div class="rightIcons">
      <button class="iconBtn" onclick="openMiniCart()" aria-label="Cart">ðŸ›’</button>
    </div>
  </div>

  <div class="searchWrap container">
    <div class="searchBox">
      ðŸ”Ž <input id="q" placeholder="Search products..." oninput="render()" />
    </div>
  </div>
</header>

<div id="drawerRoot">
  <div class="drawerOverlay" onclick="closeDrawer()"></div>
  <aside class="drawer">
    <div class="drawerHeader">Menu</div>
    <div class="drawerLinks">
      <a href="index.html">Home <span>â€º</span></a>
      <a href="shop.html">Shop <span>â€º</span></a>
      <a href="track.html">Order Tracking <span>â€º</span></a>
      <a href="customer-care.html">Customer Care <span>â€º</span></a>
      <a href="return-policy.html">Return Policy <span>â€º</span></a>
    </div>
  </aside>
</div>

<div class="sectionHead">
  <h2>Products</h2>
  <span class="badge">20 items</span>
</div>

<div class="grid" id="grid"></div>

<script src="js/products.js"></script>
<script src="js/cart.js"></script>
<script src="js/ui.js"></script>
<script>
  function openDrawer(){ document.body.classList.add("drawerOpen"); }
  function closeDrawer(){ document.body.classList.remove("drawerOpen"); }

  const grid = document.getElementById("grid");
  const q = document.getElementById("q");

  const saved = localStorage.getItem("shopSearch");
  if(saved){ q.value = saved; localStorage.removeItem("shopSearch"); }

  function render(){
    const term = q.value.trim().toLowerCase();
    grid.innerHTML = "";
    (products||[])
      .filter(p => !term || p.name.toLowerCase().includes(term))
      .forEach(p=>{
        grid.innerHTML += `
          <div class="card">
            <img class="thumb" src="images/${p.folder}/1.jpg" alt="${p.name}">
            <div class="cardBody">
              <div class="cardTitle">${p.name}</div>
              <div class="priceRow">
                <div class="price">â‚¹${p.price}</div>
                <div class="tag">Bestseller</div>
              </div>
              <button class="btn btnPrimary" onclick="addToCart('${p.id}')">Add to Cart</button>
            </div>
          </div>
        `;
      });
  }
  render();
</script>

</body>
</html>

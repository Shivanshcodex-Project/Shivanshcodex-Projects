<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Cart</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="offerBar">
  Get Extra 6% Off on Prepaid <span class="pill">Shop Now</span>
</div>

<header class="header">
  <div class="headerRow container">
    <button class="iconBtn" onclick="openDrawer()">‚ò∞</button>

    <div class="brand">
      <div class="logoDot"></div>
      <div>
        <div style="font-weight:1100">CART</div>
        <div style="font-size:12px;color:#777;font-weight:800;margin-top:-2px">Your selected items</div>
      </div>
    </div>

    <div class="rightIcons">
      <a class="iconBtn" href="shop.html" aria-label="Shop">üõçÔ∏è</a>
    </div>
  </div>
</header>

<!-- Drawer -->
<div id="drawerRoot">
  <div class="drawerOverlay" onclick="closeDrawer()"></div>
  <aside class="drawer">
    <div class="drawerHeader">Menu</div>
    <div class="drawerLinks">
      <a href="index.html">Home <span>‚Ä∫</span></a>
      <a href="shop.html">Shop <span>‚Ä∫</span></a>
      <a href="track.html">Order Tracking <span>‚Ä∫</span></a>
      <a href="customer-care.html">Customer Care <span>‚Ä∫</span></a>
      <a href="return-policy.html">Return Policy <span>‚Ä∫</span></a>
    </div>
  </aside>
</div>

<div class="panel">
  <h2 class="center">üõí Your Cart</h2>
  <p class="muted center">Remove items or proceed to payment</p>

  <div id="cartItems" style="margin-top:12px;display:grid;gap:12px;"></div>

  <div class="total" id="total">Total Amount: ‚Çπ0</div>

  <a class="btn btnPrimary" id="goPay" href="payment.html">üí≥ Proceed to Payment</a>
  <a class="btn btnSoft" href="shop.html">‚¨ÖÔ∏è Back to Shop</a>
</div>

<script src="js/products.js"></script>
<script src="js/cart.js"></script>

<script>
  function openDrawer(){ document.body.classList.add("drawerOpen"); }
  function closeDrawer(){ document.body.classList.remove("drawerOpen"); }

  const box = document.getElementById("cartItems");
  const cart = getCart();
  let sum = 0;

  if(cart.length === 0){
    box.innerHTML = `
      <div class="card" style="padding:12px;">
        <b>Cart is empty</b>
        <div class="muted">Shop se product add karo.</div>
      </div>
    `;
    document.getElementById("goPay").style.display = "none";
  } else {
    cart.forEach((item, i) => {
      sum += Number(item.price || 0);
      box.innerHTML += `
        <div class="card">
          <img class="thumb" src="images/${item.folder}/1.jpg" alt="${item.name}">
          <div class="cardBody">
            <div class="cardTitle">${item.name}</div>
            <div class="priceRow">
              <div class="price">‚Çπ${item.price}</div>
              <div class="tag">In Cart</div>
            </div>
            <button class="btn btnDanger" onclick="removeCartItem(${i})">‚ùå Remove</button>
          </div>
        </div>
      `;
    });
  }

  document.getElementById("total").innerText = "Total Amount: ‚Çπ" + sum;
</script>

</body>
</html>
